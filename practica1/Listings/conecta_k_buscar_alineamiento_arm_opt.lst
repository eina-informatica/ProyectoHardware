


ARM Macro Assembler    Page 1 


    1 00000000                 AREA             codigo, CODE, READONLY
    2 00000000                 PRESERVE8
    3 00000000                 EXPORT           conecta_K_buscar_alineamiento_a
rm_opt
    4 00000000         
    5 00000000         
    6 00000000         conecta_K_buscar_alineamiento_arm_opt
    7 00000000 E1A0C00D        mov              ip, sp
    8 00000004 E92D4BF0        stmdb            r13!, {r4-r9, fp, lr}
    9 00000008 E24CB004        sub              fp, ip, #4
   10 0000000C         ; comprobamos si la fila es v?lida
   11 0000000C E1DB40D4        ldrsb            r4, [fp, #4] ; r4  deltas_fila[
                                                            i]
   12 00000010 E1DB50D8        ldrsb            r5, [fp, #8] ; r5  deltas_colum
                                                            na[i]
   13 00000014 E3A09000        mov              r9, #0      ; r9  long_linea = 
                                                            0
   14 00000018         bucle_ini
   15 00000018 E3A08000        mov              r8,#0       ; inicializamos r8 
                                                            a 0 (contador)
   16 0000001C         bucle
   17 0000001C E3510000        cmp              r1, #0
   18 00000020 BA000019        blt              fin         ; si fila < 0
   19 00000024 E3510007        cmp              r1, #7
   20 00000028 CA000017        bgt              fin         ; si fila > 7
   21 0000002C         ; comprobamos si la columna es v?lida
   22 0000002C E3520000        cmp              r2, #0
   23 00000030 BA000015        blt              fin         ; si columna < 1
   24 00000034 E3520007        cmp              r2, #7
   25 00000038 CA000013        bgt              fin         ; si columna > 7
   26 0000003C         ; si la celda se encuentra en el tablero, obtenemos su v
                       alor
   27 0000003C E3580006        cmp              r8,#6
   28 00000040 0A000011        beq              fin
   29 00000044 E0816081        add              r6,r1,r1,LSL #1
   30 00000048 E0807086        add              r7,r0,r6,LSL #1
   31 0000004C E7D77008        ldrb             r7,[r7,r8]
   32 00000050 E2888001        add              r8,r8,#1    ;cont++
   33 00000054         ; comprobamos si esta tu celda
   34 00000054 E1570002        cmp              r7,r2
   35 00000058 1AFFFFEF        bne              bucle
   36 0000005C E2488001        sub              r8,r8,#1    ; cont-- para recup
                                                            erar el valor corre
                                                            cto
   37 00000060 E0816081        add              r6,r1,r1,LSL #1
   38 00000064 E280702A        add              r7,r0,#0x0000002A ;buscar en la
                                                             parte de abajo del
                                                             tablero (dnde se i
                                                            ndexan los colores)
                                                            
   39 00000068 E0877086        add              r7,r7,r6,LSL #1
   40 0000006C E7D77008        ldrb             r7,[r7,r8]  ; valor del color
   41 00000070 E2077003        and              r7,r7,#0x03
   42 00000074 E1570003        cmp              r7,r3       ;comparamos el colo
                                                            r con el parametro
   43 00000078 1A000003        bne              fin
   44 0000007C E2899001        add              r9,r9,#1    ;long_linea++
   45 00000080 E0811004        add              r1, r1, r4  ; r1 - fila + delta
                                                            s_fila[i]



ARM Macro Assembler    Page 2 


   46 00000084 E0822005        add              r2, r2, r5  ; r2 - columna + de
                                                            ltas_columna[i]
   47 00000088 EAFFFFE2        b                bucle_ini
   48 0000008C         fin
   49 0000008C E1A00009        mov              r0, r9      ; r0 - 0 (return 0)
                                                            
   50 00000090 E8BD4BF0        ldmia            r13!, {r4-r9, fp, lr}
   51 00000094 E12FFF1E        bx               r14
   52 00000098                 END
Command Line: --debug --xref --diag_suppress=9931 --apcs=interwork --depend=.\o
bjects\conecta_k_buscar_alineamiento_arm_opt.d -o.\objects\conecta_k_buscar_ali
neamiento_arm_opt.o -IC:\Keil_v5\ARM\RV31\INC -IC:\Keil_v5\ARM\CMSIS\Include -I
C:\Keil_v5\ARM\INC\Philips --predefine="__EVAL SETA 1" --predefine="__UVISION_V
ERSION SETA 526" --list=.\listings\conecta_k_buscar_alineamiento_arm_opt.lst co
necta_K_buscar_alineamiento_arm_opt.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

bucle 0000001C

Symbol: bucle
   Definitions
      At line 16 in file conecta_K_buscar_alineamiento_arm_opt.s
   Uses
      At line 35 in file conecta_K_buscar_alineamiento_arm_opt.s
Comment: bucle used once
bucle_ini 00000018

Symbol: bucle_ini
   Definitions
      At line 14 in file conecta_K_buscar_alineamiento_arm_opt.s
   Uses
      At line 47 in file conecta_K_buscar_alineamiento_arm_opt.s
Comment: bucle_ini used once
codigo 00000000

Symbol: codigo
   Definitions
      At line 1 in file conecta_K_buscar_alineamiento_arm_opt.s
   Uses
      None
Comment: codigo unused
conecta_K_buscar_alineamiento_arm_opt 00000000

Symbol: conecta_K_buscar_alineamiento_arm_opt
   Definitions
      At line 6 in file conecta_K_buscar_alineamiento_arm_opt.s
   Uses
      At line 3 in file conecta_K_buscar_alineamiento_arm_opt.s
Comment: conecta_K_buscar_alineamiento_arm_opt used once
fin 0000008C

Symbol: fin
   Definitions
      At line 48 in file conecta_K_buscar_alineamiento_arm_opt.s
   Uses
      At line 18 in file conecta_K_buscar_alineamiento_arm_opt.s
      At line 20 in file conecta_K_buscar_alineamiento_arm_opt.s
      At line 23 in file conecta_K_buscar_alineamiento_arm_opt.s
      At line 25 in file conecta_K_buscar_alineamiento_arm_opt.s
      At line 28 in file conecta_K_buscar_alineamiento_arm_opt.s
      At line 43 in file conecta_K_buscar_alineamiento_arm_opt.s

5 symbols
337 symbols in table
